const n=document.querySelectorAll("img");console.log(n);n.forEach(async e=>{if(!i(e)){console.log("Image not accessible: "+e);const r=e.getAttribute("src");try{const t=await chrome.runtime.sendMessage({action:"analyzeImage",imageUrl:r});console.log("Received description:",t.description)}catch(t){console.error("Error sending message or getting response:",t)}}});function i(e){if(e.hasAttribute("alt")&&e.getAttribute("alt")!==""||e.getAttribute("aria-hidden")=="true"||e.getAttribute("role")=="presentation")return!0;const r=window.getComputedStyle(e).display,t=window.getComputedStyle(e).visibility;if(r=="none"||t=="hidden")return!0;const o=parseFloat(window.getComputedStyle(e).opacity);return o==0||o<.05||!e.complete||e.naturalHeight===0||e.naturalWidth===0}
